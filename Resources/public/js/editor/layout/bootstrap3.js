define(["require","exports","jquery"],function(a,b){"use strict";var c=function(){function a(a,b){this.data=a,this.$element=b}return a.prototype.initialize=function(){if(this.$element.hasClass("cms-block")){var b,c,d,e,f,g=JSON.parse(JSON.stringify(a.devicesMap)).reverse(),h=this.$element.attr("class").split(" ");c={size:12,offset:0};for(var i in g){e=g[i],b=this.data.hasOwnProperty(e.name)?this.data[e.name]:c;for(d in h)if(h.hasOwnProperty(d)&&null!==(f=new RegExp("col-"+e.name+"-(\\d+)").exec(h[d]))){f=new RegExp("col-"+e.name+"-(\\d+)").exec(h[d]),b.size=parseInt(f[1]);break}for(d in h)if(h.hasOwnProperty(d)&&null!==(f=new RegExp("col-"+e.name+"-offset-(\\d+)").exec(h[d]))){b.offset=parseInt(f[1]);break}this.data[e.name]=b,c=JSON.parse(JSON.stringify(b))}}},a.prototype.onResize=function(b,c){this.device=null;var d;for(var e in a.devicesMap)if(a.devicesMap.hasOwnProperty(e)&&(d=a.devicesMap[e],b>=d.minWidth)){this.device=d.name;break}if(null===this.device)throw"Failed to resolve the device";var f,g=this.data[this.device];(f=c.model.getControl("default","size"))&&f.setValue(g.size),(f=c.model.getControl("default","offset"))&&f.setValue(g.offset),c.render()},a.prototype.setData=function(a,b){if(0<=["size","offset"].indexOf(a)){var c=this.data.hasOwnProperty(this.device)?this.data[this.device]:{size:12,offset:0};c[a]=b,this.data[this.device]=c}},a.prototype.apply=function(a){var b=this;if(this.$element.hasClass("cms-block")){this.$element.attr("class").split(" ").forEach(function(a){var c=new RegExp("col-"+b.device+"-(\\d+)").exec(a);c&&b.$element.removeClass(c[0]),c=new RegExp("col-"+b.device+"-offset-(\\d+)").exec(a),c&&b.$element.removeClass(c[0])});var c=a.hasOwnProperty(this.device)?a[this.device]:{size:12,offset:0};this.$element.addClass("col-"+this.device+"-"+c.size),this.$element.addClass("col-"+this.device+"-offset-"+c.offset)}},a}();c.devicesMap=[{name:"lg",minWidth:1200},{name:"md",minWidth:992},{name:"sm",minWidth:768},{name:"xs",minWidth:0}],b.Bootstrap3Adapter=c,Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c});