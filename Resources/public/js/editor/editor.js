define(["require","exports","jquery","./dispatcher","./controls","./viewport","./document-manager"],function(a,b,c,d,e,f,g){"use strict";g.PluginManager.load({block:[{name:"ekyna_cms_tinymce",path:"ekyna-cms/editor/plugin/block/tinymce-plugin"}],container:[]});var h=new g.DocumentManager("sf.jessie2.dev");h.initialize();var i=new e.MainToolbarView({model:new e.MainToolbar({id:"editor-control-bar",type:"horizontal"},{viewports:[{width:320,height:568,icon:"mobile",title:"Smartphone (320x568)",name:"Smartphone"},{width:768,height:1024,icon:"tablet",title:"Tablet (768x1024)",name:"Tablet"},{width:1280,height:800,icon:"laptop",title:"Laptop (1280x800)",name:"Laptop"},{width:1920,height:1080,icon:"desktop",title:"Desktop (1920x1080)",name:"Desktop"},{width:0,height:0,icon:"arrows-alt",title:"Adjust to screen",name:"Adjust",active:!0}]})});c("[data-controls-placeholder]").replaceWith(i.render().$el);var j=new f.ViewportView({model:new f.ViewportModel});c("[data-viewport-placeholder]").replaceWith(j.render().$el),d["default"].on("document_manager.navigate",j.onDocumentManagerNavigateHandler),d["default"].on("controls.power.click",h.powerClickHandler),d["default"].on("controls.reload.click",j.onControlsReloadClickHandler),d["default"].on("controls.viewport.click",j.onControlsViewportClickHandler),d["default"].on("viewport_iframe.unload",h.viewportUnloadHandler),d["default"].on("viewport_iframe.unload",function(a){return i.setBusy(a)}),d["default"].on("viewport_iframe.load",h.viewportLoadHandler),d["default"].on("viewport_iframe.load",function(){return i.unsetBusy()}),j.initIFrame("http://sf.jessie2.dev/")});