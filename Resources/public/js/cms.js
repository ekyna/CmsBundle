!function(a,b){"use strict";"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery"),require("routing"),require("js-cookie")):"function"==typeof define&&define.amd?define(["jquery","routing","js-cookie"],function(a,c,d){return b(a,c,d)}):a.EkynaCms=b(a.jQuery,a.Routing,a.Cookies)}(this,function(a,b,c){"use strict";var d=function(a){this.$element=a,this.name="cookie-consent"};d.prototype={_consentRequired:function(){return void 0===c.get(this.name)},_saveUserPreference:function(){c.set(this.name,"y",{expires:365})},init:function(){var c=this;this._consentRequired()&&a.ajax({url:b.generate("ekyna_cms_cookie_consent"),dataType:"xml",type:"GET"}).done(function(b){var d=a(b),e=d.find("response");1===e.size()&&(c.$element.html(e.text()).show(),c.$element.on("click",".cookies-consent-dismiss",function(a){return a.preventDefault(),a.stopPropagation(),c._saveUserPreference(),c.$element.hide(),!1}))})}};var e=function(){};return e.prototype={init:function(){var b=a("#cookies-consent");if(1===b.size()){var c=new d(b);c.init()}}},new e});