define(["require","exports","backbone","underscore","gsap/TimelineLite"],function(a,b,c,d,e){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(){d.extend(this,c.Events)}return a.prototype.on=function(a,b,c){},a.prototype.off=function(a,b,c){},a.prototype.trigger=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c]},a.prototype.bind=function(a,b,c){},a.prototype.unbind=function(a,b,c){},a.prototype.once=function(a,b,c){},a.prototype.listenTo=function(a,b,c){},a.prototype.listenToOnce=function(a,b,c){},a.prototype.stopListening=function(a,b,c){},a}();b.Dispatcher=f;var g=function(){function a(){}return a.prototype.runBgTween=function(){this.bgTransformTween&&this.bgTransformTween.kill(),this.background.hasOwnProperty("_gsTransform")&&(delete this.background._gsTransform,delete this.background._gsTweenID),this.background.style.setProperty("transform",this.bgInitialTransform),this.bgTransformTween=TweenLite.fromTo(this.background,40,{scale:1},{scale:1.2})},a.prototype.build=function(a,b){var c=this,d=new e({onStart:function(){a.style.setProperty("display","block"),b.trigger("ekyna_cms.slide.show")},onComplete:function(){b.trigger("ekyna_cms.slide.shown")},onReverse:function(){b.trigger("ekyna_cms.slide.hide")},onReverseComplete:function(){a.style.setProperty("display","none"),b.trigger("ekyna_cms.slide.hidden")}});return this.background=a.querySelector("div.background"),this.background?(a.style.backgroundColor="transparent",this.bgInitialTransform=this.background.style.getPropertyValue("transform"),d.eventCallback("onStart",function(){a.style.setProperty("display","block"),b.trigger("ekyna_cms.slide.show"),c.bgOpacityTween&&c.bgOpacityTween.kill(),c.bgOpacityTween=TweenLite.fromTo(c.background,1,{opacity:0},{opacity:1}),c.runBgTween()}),d.eventCallback("onReverse",function(){b.trigger("ekyna_cms.slide.hide"),c.bgOpacityTween&&c.bgOpacityTween.kill(),c.bgOpacityTween=TweenLite.fromTo(c.background,1,{opacity:1},{opacity:0})}),d.eventCallback("onReverseComplete",function(){a.style.setProperty("display","none"),b.trigger("ekyna_cms.slide.hidden"),c.bgTransformTween.pause()}),window.addEventListener("resize",function(){c.runBgTween()})):a.style.backgroundColor&&"transparent"!=a.style.backgroundColor&&d.from(a,.3,{backgroundColor:"transparent"},0),d.pause(),d},a}();b.BaseType=g});