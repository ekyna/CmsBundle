define(["require","exports","backbone","underscore","gsap/TimelineLite"],function(e,n,t,o,r){"use strict";function i(){o.extend(this,t.Events)}function s(){}Object.defineProperty(n,"__esModule",{value:!0}),n.BaseType=n.Dispatcher=void 0,i.prototype.on=function(e,n,t){},i.prototype.off=function(e,n,t){},i.prototype.trigger=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},i.prototype.bind=function(e,n,t){},i.prototype.unbind=function(e,n,t){},i.prototype.once=function(e,n,t){},i.prototype.listenTo=function(e,n,t){},i.prototype.listenToOnce=function(e,n,t){},i.prototype.stopListening=function(e,n,t){},n.Dispatcher=i,s.prototype.runBgTween=function(){this.bgTransformTween&&this.bgTransformTween.kill(),this.background.hasOwnProperty("_gsTransform")&&(delete this.background._gsTransform,delete this.background._gsTweenID),this.background.style.setProperty("transform",this.bgInitialTransform),this.bgTransformTween=TweenLite.fromTo(this.background,40,{scale:1},{scale:1.2})},s.prototype.build=function(e,n){var t=this,o=new r({onStart:function(){e.style.setProperty("display","block"),n.trigger("ekyna_cms.slide.show")},onComplete:function(){n.trigger("ekyna_cms.slide.shown")},onReverse:function(){n.trigger("ekyna_cms.slide.hide")},onReverseComplete:function(){e.style.setProperty("display","none"),n.trigger("ekyna_cms.slide.hidden")}});return this.background=e.querySelector("div.background"),this.background?(e.style.backgroundColor="transparent",this.bgInitialTransform=this.background.style.getPropertyValue("transform"),o.eventCallback("onStart",function(){e.style.setProperty("display","block"),n.trigger("ekyna_cms.slide.show"),t.bgOpacityTween&&t.bgOpacityTween.kill(),t.bgOpacityTween=TweenLite.fromTo(t.background,1,{opacity:0},{opacity:1}),t.runBgTween()}),o.eventCallback("onReverse",function(){n.trigger("ekyna_cms.slide.hide"),t.bgOpacityTween&&t.bgOpacityTween.kill(),t.bgOpacityTween=TweenLite.fromTo(t.background,1,{opacity:1},{opacity:0})}),o.eventCallback("onReverseComplete",function(){e.style.setProperty("display","none"),n.trigger("ekyna_cms.slide.hidden"),t.bgTransformTween.pause()}),window.addEventListener("resize",function(){t.runBgTween()})):e.style.backgroundColor&&"transparent"!=e.style.backgroundColor&&o.from(e,.3,{backgroundColor:"transparent"},0),o.pause(),o},n.BaseType=s});