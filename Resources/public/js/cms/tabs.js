define(["jquery"],function(s){function e(t){this.$element=t,this.$button=null,this.$current=null}return e.prototype.updateButton=function(t){t.length&&t.data("label")?(this.$button.text(t.data("label")),this.$button.attr("href",t.data("url"))):(this.$button.text(this.$button.data("label")),this.$button.attr("href",this.$button.data("url")))},e.prototype.init=function(){this.$current=this.$element.find(".cms-tabs-media:visible"),this.$button=this.$element.find(".cms-tabs-content > p > a"),this.updateButton(this.$element.find(".cms-tabs-menu > ul > li.active > a"));var a=this.$current.find("video"),l=(1===a.length&&a[0].play(),this);this.$element.find(".cms-tabs-menu > ul").on("click","> li > a",function(t){t.preventDefault(),t.stopPropagation();var e,n,i=s(t.target),t=i.data("target");return l.updateButton(i),t?(e=l.$element.find("#"+t),n=l.$current,1===e.length&&e[0]!==n[0]&&(l.$element.find(".cms-tabs-menu > ul > li").removeClass("active"),i.closest("li").addClass("active"),n.fadeOut(200,function(){s(this).hide(),1===(a=n.find("video")).length&&a[0].pause(),1===(a=e.find("video")).length&&a[0].play(),e.fadeIn(200)}),l.$current=e)):1===(e=s(i.attr("href"))).length&&(l.$element.find(".cms-tabs-menu > ul > li").removeClass("active"),i.closest("li.media").addClass("active"),s("html, body").animate({scrollTop:e.offset().top},{duration:300,complete:function(){i.blur()}})),!1}),this.$element.find("video").on("click",function(){this.paused?this.play():this.pause()})},{init:function(t){t.each(function(){new e(s(this)).init()})}}});