define(["jquery"],function(a){var b=function(a){this.$element=a,this.$button=null,this.$current=null};return b.prototype.updateButton=function(a){a.length&&a.data("label")?(this.$button.text(a.data("label")),this.$button.attr("href",a.data("url"))):(this.$button.text(this.$button.data("label")),this.$button.attr("href",this.$button.data("url")))},b.prototype.init=function(){this.$current=this.$element.find(".cms-tabs-media:visible"),this.$button=this.$element.find(".cms-tabs-content > p > a"),this.updateButton(this.$element.find(".cms-tabs-menu > ul > li.active > a"));var b=this.$current.find("video");1===b.length&&b[0].play();var c=this;this.$element.find(".cms-tabs-menu > ul").on("click","> li > a",function(d){d.preventDefault(),d.stopPropagation();var e,f,g=a(d.target),h=g.data("target");return c.updateButton(g),h?(e=c.$element.find("#"+h),f=c.$current,1===e.length&&e[0]!==f[0]&&(c.$element.find(".cms-tabs-menu > ul > li").removeClass("active"),g.closest("li").addClass("active"),f.fadeOut(200,function(){a(this).hide(),b=f.find("video"),1===b.length&&b[0].pause(),b=e.find("video"),1===b.length&&b[0].play(),e.fadeIn(200)}),c.$current=e),!1):(e=a(g.attr("href")),1===e.length&&(c.$element.find(".cms-tabs-menu > ul > li").removeClass("active"),g.closest("li.media").addClass("active"),a("html, body").animate({scrollTop:e.offset().top},{duration:300,complete:function(){g.blur()}})),!1)}),this.$element.find("video").on("click",function(){this.paused?this.play():this.pause()})},{init:function(c){c.each(function(){new b(a(this)).init()})}}});